{% extends 'base.html.twig' %}

{% block title %}Liste des profils{% endblock %}

{% block body %}
<main>
    <section class="wrapperHero">
        <div class="title">
            <H1>Bienvenue {% if app.user %}{{app.user}}{% endif %}, chez Pawfluence !</H1>
            <img src="/img/catDogfriends.webp" alt="Un chien et un chat couché ensemble" loading="lazy">
        </div>
        {% if app.user %}
        <section class="userLoggedin">
            <article class="ctaUser">
                <h2>Qu'elle était vos aventures avec votre humain aujourd'hui ? </h2>
                <p>La communauté serait curieuse d'en savoir plus. Cliquez ci-dessous !</p>
            </article>
            <div class="btnShare">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                    <!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2026 Fonticons, Inc.-->
                    <path d="M371.8 82.4C359.8 87.4 352 99 352 112L352 192L240 192C142.8 192 64 270.8 64 368C64 481.3 145.5 531.9 164.2 542.1C166.7 543.5 169.5 544 172.3 544C183.2 544 192 535.1 192 524.3C192 516.8 187.7 509.9 182.2 504.8C172.8 496 160 478.4 160 448.1C160 395.1 203 352.1 256 352.1L352 352.1L352 432.1C352 445 359.8 456.7 371.8 461.7C383.8 466.7 397.5 463.9 406.7 454.8L566.7 294.8C579.2 282.3 579.2 262 566.7 249.5L406.7 89.5C397.5 80.3 383.8 77.6 371.8 82.6z"/>
                </svg>
                <a href="{{ path('add_post') }}">Partager</a>
            </div>
        </section>
        {% else %}
        <section class="visitor">
            <article class="ctaUser">
                <h2>Rejoignez le réseau :</h2>
                <p>Attention, risque élevé de ronrons et de coups de pattes créatives !</p>
            </article>
            <div class="visitorSubscribe">
                <a class="btn" href="{{ path('app_register') }}">Créer un compte</a>
                <div class="connexion">
                <p class="">Vous êtes déjà membre ? <a href="{{ path('app_login') }}" class="underline">Connectez-vous</a> !</p>
                </div>
            </div>
        </section>
        {% endif %}
        </div>
    </section>
    <section class="wrapperProfilesList">
        <h2>Les influenceurs à pattes</h2>
        <div class="listProfiles">
            <ul>
                {% for user in users %}
                <div class="userCard">
                    {% if user.avatar is empty %}
                        <img src="https://images.pexels.com/photos/14205102/pexels-photo-14205102.jpeg" alt="Utilisateur sans avatar">
                    {% else %}
                        <img src="{{ user.avatar }}" alt="L'utilisateur">
                    {% endif %}
                    <li>
                        <a class="profilePseudo" href="{{ path('show_user', {'id':user.id}) }}">
                            {{ user }}
                        </a>
                    </li>
                    {% for tag in user.tagFollow %}
                        <div class="tag">
                            <p>#{{ tag.tagName }}</p>
                        </div>
                    {% endfor %}
                    <a class="showProfile" href="{{ path('show_user', {'id':user.id}) }}">Voir profil</a>
                    {# {% if app.user %}
                    <div class="btnInteractions"> #}
                        {# <a class="follow" href="">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                                <!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2026 Fonticons, Inc.-->
                                <path d="M136 192C136 125.7 189.7 72 256 72C322.3 72 376 125.7 376 192C376 258.3 322.3 312 256 312C189.7 312 136 258.3 136 192zM48 546.3C48 447.8 127.8 368 226.3 368L285.7 368C384.2 368 464 447.8 464 546.3C464 562.7 450.7 576 434.3 576L77.7 576C61.3 576 48 562.7 48 546.3zM544 160C557.3 160 568 170.7 568 184L568 232L616 232C629.3 232 640 242.7 640 256C640 269.3 629.3 280 616 280L568 280L568 328C568 341.3 557.3 352 544 352C530.7 352 520 341.3 520 328L520 280L472 280C458.7 280 448 269.3 448 256C448 242.7 458.7 232 472 232L520 232L520 184C520 170.7 530.7 160 544 160z"/>
                            </svg>
                        </a> #}
                    {# </div>
                    {% endif %} #}
                </div>
                {% endfor %}
            </ul>
        </div>
    </section>
</main>
{% endblock %}